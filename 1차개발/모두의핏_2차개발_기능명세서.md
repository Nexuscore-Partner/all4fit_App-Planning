# 모두의 핏 2차 개발 기능 명세서

## 📋 개요
모두의 핏 앱의 2차 개발에 포함될 기능들을 정리한 문서입니다.

## 🎯 2차 개발 목표
- 1차 개발 완료 후 사용자 피드백을 반영한 고도화
- 추가적인 사용자 편의 기능 제공
- 수익화 모델 강화
- 커뮤니티 기능 확장

---

## 📱 2차 개발 기능 목록

### 1. 찜 탭 (Wishlist Tab)

#### 1.1 찜한 시설 관리
**설명**: 사용자가 찜한 시설들을 관리하는 기능
**기능 상세**:
- 찜한 시설 목록 조회
- 찜한 시설 삭제
- 찜한 시설 정렬 (최근 추가순, 거리순, 평점순)
- 찜한 시설 공유

**입력 데이터**:
- userId: string
- facilityId: string
- sortType: string

**검증 규칙**:
- userId: 필수, 유효한 사용자 ID
- facilityId: 필수, 유효한 시설 ID
- sortType: 'recent' | 'distance' | 'rating'

**처리 로직**:
1. 사용자별 찜한 시설 목록 조회
2. 선택된 정렬 기준으로 목록 정렬
3. 시설 정보와 함께 목록 표시
4. 찜 해제 시 확인 다이얼로그 표시

**화면 구성**:
```
┌─────────────────────────────┐
│  찜한 시설                  │
├─────────────────────────────┤
│  [최근순] [거리순] [평점순]  │
├─────────────────────────────┤
│  [시설 카드 1] [❤️]         │
│  [시설 카드 2] [❤️]         │
│  [시설 카드 3] [❤️]         │
└─────────────────────────────┘
```

#### 1.2 찜한 시설 알림
**설명**: 찜한 시설의 특별 이벤트나 할인 정보 알림
**기능 상세**:
- 찜한 시설 이벤트 알림
- 할인 정보 푸시 알림
- 알림 설정 관리

**입력 데이터**:
- facilityId: string
- notificationType: string
- isEnabled: boolean

**검증 규칙**:
- facilityId: 필수, 유효한 시설 ID
- notificationType: 'event' | 'discount' | 'all'
- isEnabled: boolean

---

### 2. 시설 예약 시스템

#### 2.1 예약 캘린더
**설명**: 시설의 예약 가능 시간대를 캘린더 형태로 표시
**기능 상세**:
- 월별 캘린더 표시
- 예약 가능/불가능 시간대 구분
- 실시간 예약 현황 업데이트
- 예약 가능 시간 필터링

**입력 데이터**:
- facilityId: string
- selectedDate: Date
- timeSlot: string

**검증 규칙**:
- facilityId: 필수, 유효한 시설 ID
- selectedDate: 필수, 유효한 날짜
- timeSlot: 필수, 유효한 시간대

**처리 로직**:
1. 시설의 예약 가능 시간 조회
2. 선택된 날짜의 예약 현황 확인
3. 예약 가능한 시간대만 표시
4. 실시간으로 예약 상태 업데이트

**화면 구성**:
```
┌─────────────────────────────┐
│  예약 캘린더                │
├─────────────────────────────┤
│  < 2025년 9월 >             │
│  일 월 화 수 목 금 토       │
│  31 1  2  3  4  5  6        │
│  7  8  9 10 11 12 13        │
│  14 15 16 17 18 19 20       │
│  21 22 23 24 25 26 27       │
│  28 29 30 1  2  3  4        │
├─────────────────────────────┤
│  [10:00] [12:00] [15:00]    │
│  [16:00] [17:00] [18:00]    │
│  [19:00] [20:00] [21:00]    │
└─────────────────────────────┘
```

#### 2.2 예약 신청
**설명**: 선택한 시간대에 예약 신청
**기능 상세**:
- 예약 정보 입력
- 결제 정보 입력
- 예약 확인 및 수정
- 예약 취소

**입력 데이터**:
- facilityId: string
- selectedDate: Date
- selectedTimeSlots: Array<string>
- paymentMethod: string
- specialRequests: string

**검증 규칙**:
- facilityId: 필수, 유효한 시설 ID
- selectedDate: 필수, 미래 날짜
- selectedTimeSlots: 필수, 1개 이상 선택
- paymentMethod: 필수, 유효한 결제 수단

**처리 로직**:
1. 예약 가능 여부 재확인
2. 예약 정보 입력
3. 결제 처리
4. 예약 확정 및 알림 발송
5. 예약 내역 저장

#### 2.3 예약 관리
**설명**: 사용자의 예약 내역 관리
**기능 상세**:
- 예약 내역 조회
- 예약 상세 정보 확인
- 예약 수정/취소
- 예약 리뷰 작성

**입력 데이터**:
- userId: string
- reservationId: string
- action: string

**검증 규칙**:
- userId: 필수, 유효한 사용자 ID
- reservationId: 필수, 유효한 예약 ID
- action: 'view' | 'modify' | 'cancel' | 'review'

---

### 3. 커뮤니티 기능 확장

#### 3.1 실시간 채팅
**설명**: 사용자 간 실시간 채팅 기능
**기능 상세**:
- 1:1 채팅
- 그룹 채팅
- 채팅방 생성/참여
- 파일/이미지 전송

**입력 데이터**:
- chatRoomId: string
- message: string
- messageType: string
- file: File

**검증 규칙**:
- chatRoomId: 필수, 유효한 채팅방 ID
- message: 필수, 1-1000자
- messageType: 'text' | 'image' | 'file'
- file: 선택, 10MB 이하

#### 3.2 포럼/게시판
**설명**: 주제별 토론 게시판
**기능 상세**:
- 카테고리별 게시판
- 게시글 작성/수정/삭제
- 댓글/대댓글 시스템
- 좋아요/싫어요 기능

**입력 데이터**:
- categoryId: string
- title: string
- content: string
- images: Array<File>

**검증 규칙**:
- categoryId: 필수, 유효한 카테고리 ID
- title: 필수, 2-100자
- content: 필수, 10-5000자
- images: 선택, 최대 5장, 각 10MB 이하

#### 3.3 이벤트/모임
**설명**: 사용자 주도 이벤트 및 모임 기능
**기능 상세**:
- 이벤트 생성/참여
- 모임 주최/참여
- 일정 관리
- 참가자 관리

**입력 데이터**:
- eventTitle: string
- eventDate: Date
- eventLocation: string
- maxParticipants: number
- description: string

**검증 규칙**:
- eventTitle: 필수, 2-100자
- eventDate: 필수, 미래 날짜
- eventLocation: 필수, 유효한 주소
- maxParticipants: 필수, 2-100명
- description: 필수, 10-1000자

---

### 4. 지도자 예약 시스템

#### 4.1 지도자 상세 페이지
**설명**: 지도자의 상세 정보 및 예약 기능
**기능 상세**:
- 지도자 프로필 상세 정보
- 경력 및 자격증 표시
- 리뷰 및 평점 표시
- 예약 가능 시간 표시

**입력 데이터**:
- instructorId: string
- viewType: string

**검증 규칙**:
- instructorId: 필수, 유효한 지도자 ID
- viewType: 'profile' | 'schedule' | 'reviews'

#### 4.2 지도자 예약
**설명**: 지도자와의 1:1 예약 및 상담
**기능 상세**:
- 지도자 예약 가능 시간 조회
- 예약 신청 및 승인
- 1:1 상담 시간 예약
- 예약 수정/취소

**입력 데이터**:
- instructorId: string
- selectedDate: Date
- selectedTime: string
- consultationType: string
- specialRequests: string

**검증 규칙**:
- instructorId: 필수, 유효한 지도자 ID
- selectedDate: 필수, 미래 날짜
- selectedTime: 필수, 유효한 시간
- consultationType: 'online' | 'offline' | 'both'
- specialRequests: 선택, 500자 이하

---

### 5. 고급 검색 및 필터링

#### 5.1 고급 검색
**설명**: 다양한 조건으로 시설 및 지도자 검색
**기능 상세**:
- 다중 조건 검색
- 가격대별 필터링
- 거리별 필터링
- 평점별 필터링
- 시설 타입별 필터링

**입력 데이터**:
- searchQuery: string
- filters: object
- sortBy: string
- location: object

**검증 규칙**:
- searchQuery: 선택, 1-100자
- filters: 유효한 필터 객체
- sortBy: 'distance' | 'rating' | 'price' | 'recent'
- location: 유효한 위치 정보

#### 5.2 추천 시스템
**설명**: AI 기반 개인화 추천
**기능 상세**:
- 사용자 선호도 기반 추천
- 유사 사용자 기반 추천
- 시설/지도자 추천
- 맞춤형 콘텐츠 추천

**입력 데이터**:
- userId: string
- userPreferences: object
- historyData: object

**검증 규칙**:
- userId: 필수, 유효한 사용자 ID
- userPreferences: 유효한 선호도 객체
- historyData: 유효한 히스토리 데이터

---

### 6. 결제 및 포인트 시스템

#### 6.1 통합 결제 시스템
**설명**: 다양한 결제 수단 지원
**기능 상세**:
- 카드 결제
- 계좌 이체
- 간편 결제 (카카오페이, 네이버페이)
- 포인트 결제

**입력 데이터**:
- paymentMethod: string
- amount: number
- orderId: string
- userInfo: object

**검증 규칙**:
- paymentMethod: 필수, 유효한 결제 수단
- amount: 필수, 0 이상의 숫자
- orderId: 필수, 유효한 주문 ID
- userInfo: 유효한 사용자 정보

#### 6.2 포인트 시스템
**설명**: 적립 및 사용 포인트 관리
**기능 상세**:
- 포인트 적립
- 포인트 사용
- 포인트 내역 조회
- 포인트 만료 관리

**입력 데이터**:
- userId: string
- pointAmount: number
- pointType: string
- description: string

**검증 규칙**:
- userId: 필수, 유효한 사용자 ID
- pointAmount: 필수, 0 이상의 숫자
- pointType: 'earn' | 'use' | 'expire'
- description: 필수, 1-100자

---

### 7. 알림 및 푸시 시스템

#### 7.1 푸시 알림
**설명**: 다양한 상황에 대한 푸시 알림
**기능 상세**:
- 예약 관련 알림
- 이벤트 알림
- 커뮤니티 알림
- 시스템 알림

**입력 데이터**:
- userId: string
- notificationType: string
- title: string
- message: string
- data: object

**검증 규칙**:
- userId: 필수, 유효한 사용자 ID
- notificationType: 필수, 유효한 알림 타입
- title: 필수, 1-50자
- message: 필수, 1-200자
- data: 유효한 데이터 객체

#### 7.2 알림 설정
**설명**: 사용자별 알림 설정 관리
**기능 상세**:
- 알림 타입별 on/off
- 알림 시간 설정
- 알림 방식 선택
- 알림 그룹 관리

**입력 데이터**:
- userId: string
- notificationSettings: object
- timeSettings: object

**검증 규칙**:
- userId: 필수, 유효한 사용자 ID
- notificationSettings: 유효한 알림 설정 객체
- timeSettings: 유효한 시간 설정 객체

---

### 8. 관리자 기능 확장

#### 8.1 고급 분석 대시보드
**설명**: 상세한 사용자 및 시설 분석
**기능 상세**:
- 사용자 행동 분석
- 시설 이용률 분석
- 수익 분석
- 예약 패턴 분석

**입력 데이터**:
- analysisType: string
- dateRange: object
- filters: object

**검증 규칙**:
- analysisType: 필수, 유효한 분석 타입
- dateRange: 유효한 날짜 범위
- filters: 유효한 필터 객체

#### 8.2 자동화 시스템
**설명**: 반복 작업 자동화
**기능 상세**:
- 자동 승인 시스템
- 자동 알림 발송
- 자동 데이터 정리
- 자동 리포트 생성

**입력 데이터**:
- automationType: string
- schedule: object
- conditions: object

**검증 규칙**:
- automationType: 필수, 유효한 자동화 타입
- schedule: 유효한 스케줄 객체
- conditions: 유효한 조건 객체

---

## 📊 2차 개발 우선순위

### Phase 2-A (높은 우선순위)
1. **찜 탭** - 사용자 편의성 향상
2. **시설 예약 시스템** - 핵심 수익화 기능
3. **고급 검색 및 필터링** - 사용자 경험 개선

### Phase 2-B (중간 우선순위)
4. **지도자 예약 시스템** - 서비스 확장
5. **결제 및 포인트 시스템** - 수익화 강화
6. **알림 및 푸시 시스템** - 사용자 참여도 향상

### Phase 2-C (낮은 우선순위)
7. **커뮤니티 기능 확장** - 사용자 유지
8. **관리자 기능 확장** - 운영 효율성

---

## 🎯 2차 개발 성공 지표

### 사용자 지표
- 일일 활성 사용자(DAU) 증가율: 30%
- 사용자 유지율(Retention Rate): 70% (7일), 40% (30일)
- 평균 세션 시간: 15분 이상

### 비즈니스 지표
- 예약 전환율: 15% 이상
- 월간 반복 예약률: 60% 이상
- 평균 예약 금액: 50,000원 이상

### 기술 지표
- 앱 크래시율: 0.1% 이하
- API 응답 시간: 500ms 이하
- 사용자 만족도: 4.5/5.0 이상

---

## 📅 2차 개발 일정

### 2차 개발 Phase 1 (3개월)
- 찜 탭 개발
- 기본 예약 시스템 개발
- 고급 검색 기능 개발

### 2차 개발 Phase 2 (3개월)
- 지도자 예약 시스템 개발
- 결제 시스템 통합
- 알림 시스템 고도화

### 2차 개발 Phase 3 (3개월)
- 커뮤니티 기능 확장
- 관리자 기능 고도화
- 성능 최적화 및 안정화

---

## 🔧 기술 요구사항

### 백엔드
- 실시간 통신 (WebSocket)
- 결제 API 연동
- 푸시 알림 서비스
- AI/ML 추천 엔진

### 프론트엔드
- 실시간 채팅 UI
- 캘린더 컴포넌트
- 고급 필터링 UI
- 결제 모듈

### 인프라
- CDN 확장
- 데이터베이스 최적화
- 모니터링 시스템 강화
- 보안 강화

---

## 📝 결론

2차 개발을 통해 모두의 핏은 단순한 시설 검색 앱에서 종합적인 운동 플랫폼으로 발전할 수 있습니다. 사용자 편의성 향상과 수익화 모델 강화를 통해 지속 가능한 비즈니스 모델을 구축할 수 있을 것입니다.
