# 모두의 핏 앱 - 사용자 플로우 다이어그램

## 1. 앱 실행 및 인증 플로우

```mermaid
flowchart TD
    A[앱 실행] --> B{로그인 상태?}
    B -->|비로그인| C[로그인 메인 페이지]
    B -->|로그인됨| D[메인 탭바]
    
    C --> E[이메일 로그인]
    C --> F[전화번호 로그인]
    C --> G[소셜 로그인]
    C --> H[회원가입]
    
    E --> I[비밀번호 입력]
    F --> I
    I --> J{인증 성공?}
    J -->|성공| D
    J -->|실패| K[에러 메시지]
    K --> E
    
    G --> L[소셜 앱 연동]
    L --> M{연동 성공?}
    M -->|성공| D
    M -->|실패| N[연동 실패]
    N --> C
    
    H --> O[기본정보 입력]
    O --> P[관심종목 선택]
    P --> Q[사용자타입 선택]
    Q --> R{지도자?}
    R -->|예| S[지도자 소개 입력]
    R -->|아니오| T[가입 완료]
    S --> T
    T --> D
```

## 2. 홈 탭 플로우

```mermaid
flowchart TD
    A[홈 탭] --> B[위치 기반 검색]
    A --> C[지도 기반 검색]
    A --> D[키워드 검색]
    A --> E[지도자 매칭]
    
    B --> F[GPS 권한 요청]
    F --> G{권한 허용?}
    G -->|예| H[위치 기반 결과]
    G -->|아니오| I[권한 안내]
    
    C --> J[지도에서 위치 선택]
    J --> K[선택 위치 기반 결과]
    
    D --> L[검색어 입력]
    L --> M[검색 결과 목록]
    
    E --> N[AI 매칭 시작]
    N --> O[매칭 로딩]
    O --> P[매칭 결과 리스트]
    P --> Q[지도자 상세]
    Q --> R[매칭 신청]
    R --> S[매칭 완료]
```

## 3. 운동시설 탭 플로우

```mermaid
flowchart TD
    A[운동시설 탭] --> B[위치 기반 시설 검색]
    A --> C[시설 리스트]
    
    B --> D[GPS 기반 검색]
    D --> E[시설 목록 표시]
    
    C --> F[시설 상세 페이지]
    F --> G[시설 사진 갤러리]
    F --> H[시설 후기]
    F --> I[실시간 예약]
    F --> J[시설 찜]
    
    I --> K[예약 캘린더]
    K --> L[날짜/시간 선택]
    L --> M[예약 완료]
    
    H --> N[후기 작성]
    N --> O[후기 등록]
```

## 4. 커뮤니티 탭 플로우

```mermaid
flowchart TD
    A[커뮤니티 탭] --> B[위치 필터]
    A --> C[종목 필터]
    A --> D[커뮤니티 목록]
    
    B --> E[위치 설정]
    C --> F[종목 선택]
    
    D --> G[커뮤니티 상세]
    G --> H[커뮤니티 가입]
    G --> I[채팅 탭]
    G --> J[커뮤니티 설정]
    G --> K[모임 일정]
    G --> L[후기 시스템]
    
    I --> M[채팅방]
    M --> N[실시간 채팅]
    
    J --> O[커뮤니티 나가기]
    J --> P[사진첩]
    J --> Q[공지글 작성]
    J --> R[멤버 관리]
    
    K --> S[일정 설정]
    S --> T[공지글 작성]
    T --> U[댓글 참여]
```

## 5. 마이페이지 탭 플로우

```mermaid
flowchart TD
    A[마이페이지 탭] --> B[찜 목록]
    A --> C[1:1 문의]
    A --> D[프로필 수정]
    A --> E[FAQ]
    A --> F[설정]
    A --> G[지도자 관리]
    A --> H[공공시설 관리]
    
    F --> I[알림 설정]
    F --> J[이용약관]
    F --> K[개인정보 처리방침]
    F --> L[위치 서비스 약관]
    
    G --> M[매칭된 지도자]
    G --> N[지도자 후기]
    
    H --> O[예약 현황]
    H --> P[이용 내역]
    H --> Q[리뷰 작성]
```

## 6. 전체 앱 네비게이션 구조

```mermaid
graph TD
    A[앱 실행] --> B[인증 시스템]
    B --> C[메인 탭바]
    
    C --> D[홈 탭]
    C --> E[운동시설 탭]
    C --> F[커뮤니티 탭]
    C --> G[마이페이지 탭]
    
    D --> H[검색 시스템]
    D --> I[지도자 매칭]
    
    E --> J[시설 검색]
    E --> K[예약 시스템]
    E --> L[후기 시스템]
    
    F --> M[커뮤니티 관리]
    F --> N[채팅 시스템]
    F --> O[모임 시스템]
    
    G --> P[개인 정보 관리]
    G --> Q[찜 시스템]
    G --> R[고객 지원]
    
    style A fill:#e1f5fe
    style C fill:#f3e5f5
    style D fill:#e8f5e8
    style E fill:#fff3e0
    style F fill:#fce4ec
    style G fill:#f1f8e9
```

## 7. 화면 깊이 구조

```mermaid
graph TD
    A[Depth 0: 메인 탭바] --> B[Depth 1: 홈/운동시설/커뮤니티/마이페이지]
    B --> C[Depth 2: 검색결과/지도자상세/시설상세/커뮤니티상세]
    C --> D[Depth 3: 매칭완료/예약캘린더/채팅방/커뮤니티설정]
    D --> E[Depth 4: 예약완료/후기작성/커뮤니티나가기/멤버관리]
    
    style A fill:#ffcdd2
    style B fill:#f8bbd9
    style C fill:#e1bee7
    style D fill:#d1c4e9
    style E fill:#c5cae9
```

## 8. 주요 사용자 시나리오

### 시나리오 1: 새로운 사용자의 지도자 매칭
```mermaid
sequenceDiagram
    participant U as 사용자
    participant A as 앱
    participant S as 서버
    participant AI as AI 매칭 시스템
    
    U->>A: 앱 실행
    A->>U: 로그인 화면
    U->>A: 회원가입
    A->>S: 사용자 정보 전송
    S->>A: 가입 완료
    A->>U: 메인 화면
    U->>A: 홈 탭 선택
    A->>U: 위치 권한 요청
    U->>A: 권한 허용
    A->>S: 현재 위치 전송
    U->>A: 지도자 매칭 요청
    A->>AI: 매칭 요청
    AI->>A: 매칭 결과
    A->>U: 지도자 목록 표시
    U->>A: 지도자 선택
    A->>U: 지도자 상세
    U->>A: 매칭 신청
    A->>S: 매칭 요청 전송
    S->>A: 매칭 완료
    A->>U: 매칭 성공 화면
```

### 시나리오 2: 운동시설 예약
```mermaid
sequenceDiagram
    participant U as 사용자
    participant A as 앱
    participant S as 서버
    
    U->>A: 운동시설 탭 선택
    A->>U: 시설 목록 표시
    U->>A: 시설 선택
    A->>U: 시설 상세 페이지
    U->>A: 예약 버튼 클릭
    A->>U: 예약 캘린더 표시
    U->>A: 날짜/시간 선택
    A->>S: 예약 요청 전송
    S->>A: 예약 확인
    A->>U: 예약 완료 화면
    U->>A: 예약 내역 확인
    A->>U: 마이페이지 예약 현황
```

이 다이어그램들을 통해 개발팀과 디자인팀이 사용자 플로우를 명확히 이해하고 개발할 수 있습니다! 